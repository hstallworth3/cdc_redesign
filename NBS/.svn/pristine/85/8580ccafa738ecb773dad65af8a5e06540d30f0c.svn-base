<script type="text/javascript"> if (typeof window.event != 'undefined')  document.onkeydown = function()    {		var t=event.srcElement.type;		if(t == '' || t == 'undefined' || t == 'button') {			return;		}				var kc=event.keyCode;		//alert(kc + '  ' +  t);		if(t == 'text' && kc == 13) {			searchPatient();		}		    }else{ 	document.onkeydown = function(e){ 				 							var t=e.target.type;  					if(t == '' || t == 'undefined' || t == 'button') { 				return; 				} 			var kc=e.keyCode; 				//alert(kc + '  ' +  t); 				if(t == 'text' && kc == 13) { 			searchPatient(); 					}		 			}}function simpleToAdvancedSearch() {	window.location.href='/nbs/MyTaskList1.do?ContextAction=GlobalPatient';	}		function  searchPatient() {			var allEnabledSearchIpElts = $j("#qsearch").find(':input:enabled');			var atleastOne = false;			var validDob = true;			//alert(allEnabledSearchIpElts.length);	        for (var i = 0; i < allEnabledSearchIpElts.length; i++) {	            if ($j(allEnabledSearchIpElts[i]).attr("type") != 'radio' && $j(allEnabledSearchIpElts[i]).attr("type") != 'hidden' && $j(allEnabledSearchIpElts[i]).attr("type") != 'button' && jQuery.trim($j(allEnabledSearchIpElts[i]).attr("value")) !="" ) {						atleastOne = true;						//alert($j(allEnabledSearchIpElts[i]).attr("type") + $j(allEnabledSearchIpElts[i]).attr("value"));						if($j(allEnabledSearchIpElts[i]).attr("id") == 'DEM115') {							if (!isDate( $j(allEnabledSearchIpElts[i]).attr("value") ) ) {								alert('DOB must be in the format of mm/dd/yyyy. Please correct the data and try again.');								$j("#DEM115").focus();								return false;							}						}	            }	        }		        if(!atleastOne) {	        	alert('Please enter at least one item to search.');	        	$j("#DEM102").focus();	        		        	return false;	        }	        if($j("#ESR100").attr("value")!="" && $j("#ESR101").attr("value")=="") {	        	alert('Please enter Event ID and try again.');	        	$j("#ESR101").focus();	        	return false;	        	        }        for (var i = 0; i < allEnabledSearchIpElts.length; i++) {		     if($j(allEnabledSearchIpElts[i]).attr("type") == 'button')		        $j(allEnabledSearchIpElts[i]).attr("disabled","disabled");        }			document.homepageForm.action ="/nbs/HomePage.do?method=patientSearchSubmit";		document.homepageForm.submit();	}	function toggleSearch(rad) {		var type = rad.id;   		//alert(type);		if(type == 'pat') {			clearEvent();			$j("#patientSearchByEvent").hide();							$j("#patientSearchByDetails").show();					}		if(type == 'evt') {			clearPatient();			$j("#patientSearchByDetails").hide();			$j("#patientSearchByEvent").show();					}			}		function clearPatient() {        var allEnabledSearchIpElts = $j("#patientSearchByDetails").find(':input:enabled');        for (var i = 0; i < allEnabledSearchIpElts.length; i++) {            if ($j(allEnabledSearchIpElts[i]).attr("type") != 'button') {                $j(allEnabledSearchIpElts[i]).val("");            }        }		}	function clearEvent() {        var allEnabledSearchIpElts = $j("#patientSearchByEvent").find(':input:enabled');        for (var i = 0; i < allEnabledSearchIpElts.length; i++) {            if ($j(allEnabledSearchIpElts[i]).attr("type") != 'button') {                $j(allEnabledSearchIpElts[i]).val("");            }        }			showHideEventId();	}		function showHideEventId() {		$j('#ESR101').val('');		if($j('#ESR100').attr('value') == "")			$j('#ESR101TR').hide();			else {			$j('#ESR101TR').show();				$j('#ESR101').focus();				}		}	</script><nedss:dashlet id="qsearch" name="Patient Search"         isDraggable="true" headerClass="header dd-multi-handle-${colIndex}"         headerId="dd-handle-${colIndex}_${rowIndex}a" contentStyle="height=${dashletHeight}px;">    <p style="margin-top:0.5em;">            <div id="patientSearchByDetails">        		<html:hidden property="patientSearchVO.lastNameOperator"/>        		<html:hidden property="patientSearchVO.firstNameOperator"/>						<html:hidden property="patientSearchVO.birthTimeOperator"/>                    <table class="formTable" style="width:90%; margin:auto;">        			<td style="white-space:nowrap"  colspan="4">         			<ins><b><font color=#003470>Search Demographics</font></b></ins>                    </td>                    <tr>                    <td></td>                    </tr>                    <tr>                        <td style="width:27%" class="fieldName"> Last Name: </td>                                                <td style="white-space:nowrap"> <html:text  size="23" property="patientSearchVO.lastName" styleId="DEM102" title="The patient's last name."/> </td>                    </tr>                    <tr>                    	<td style="white-space:nowrap" class="fieldName"> First Name: </td>                         <td style="white-space:nowrap"> <html:text  size="23" property="patientSearchVO.firstName" styleId="DEM104" title="The patient's first name."/> </td>                    </tr>                    <tr>                    	<td style="white-space:nowrap" class="fieldName"> DOB: </td> 		                <td style="white-space:nowrap">		                    <html:text size="7" property="patientSearchVO.birthTime" styleId="DEM115" maxlength="10" title="The patient's date of birth." onkeyup="DateMask(this, event)"/>		                    <html:img src="calendar.gif" onclick="getCalDate('DEM115','DEM115DateIcon'); return false;" styleId="DEM115DateIcon"/>		                </td>		            </tr>                    <tr>                               <td style="white-space:nowrap" class="fieldName"> Current Sex: </td>                         <td style="white-space:nowrap">		                     <html:select name="homepageForm"  property="patientSearchVO.currentSex" styleId="DEM114" title="The patient's current sex.">		                        <html:optionsCollection property="codedValue(SEX)" value="key" label="value"/>		                    </html:select>	                                                                            </td>                     </tr>                    <%--                    <tr>						<td style="white-space:nowrap" class="fieldName"> ID Number: </td>                         <td style="white-space:nowrap"> <html:text size="23" property="patientSearchVO.rootExtensionTxt" styleId="DEM147" title="Any associated patient ID (e.g., SSN, eHARS ID, Medicaid Number, Medicare Number, etc.)."/> </td>                    </tr>                    <tr>                    <td style="white-space:nowrap" class="fieldName"> Phone: </td>                         <td style="white-space:nowrap"> <html:text  size="10" property="patientSearchVO.phoneNbrTxt" styleId="DEM238" onkeyup="TeleMask(this)" title="Any associated patient phone number (e.g., home, work, cell)."/> </td>                                            <td style="white-space:nowrap" class="fieldName"> Email: </td>                         <td style="white-space:nowrap"> <html:text size="23" property="patientSearchVO.emailAddress" styleId="DEM182" title="Any associated patient email address."/> </td>                    </tr>                    --%>                    <tr>          				<td>          					          				</td>   				   </tr>   				   </table>   				    <table class="formTable" style="width:90%; margin:auto;" >                  					<tr>                   <td style="white-space:nowrap"  colspan="4">                    <ins><b><font color=#003470>Search Identifiers</font></b></ins>                   </td>                   </tr>                   <tr>                   <td></td>                   </tr>                     <tr>                     <td style="white-space:nowrap" class="fieldName"> Event ID Type: </td>                      <td style="white-space:nowrap" style="text-align:left">		                     <html:select name="homepageForm" property="patientSearchVO.actType" styleId="ESR100" onchange="showHideEventId();" title="Please select the type of Event to search">		                        <html:optionsCollection property="codedValue(PHVS_EVN_SEARCH_ABC)" value="key" label="value"/>		                    </html:select>	                                                                            </td>                    </tr>                    <tr id="ESR101TR" class="none">                       <td style="white-space:nowrap; width:27%" class="fieldName"> Event ID: </td>                         <td style="white-space:nowrap" style="text-align:left"> <html:text size="22" property="patientSearchVO.actId" styleId="ESR101" title="Please enter 'Event ID' with an exact match"/> </td>                   </tr>                   <tr>                          <td style="white-space:nowrap" class="fieldName"> Patient ID(s):</td>                         <td style="white-space:nowrap"> <html:text  size="23" property="patientSearchVO.localID" styleId="DEM229" title="The patient's local (system) ID. To search multiple patient IDs, separate IDs by commas, semicolons, or spaces."/>                        </td>                    </tr>                    <tr>                    	<td>                    	</td>                        <td>                        <span style="white-space:nowrap" class="desc">(Separate IDs by commas, semicolons, or spaces)</span>                        </td>                    </tr>                    <tr>                    <td>                    &nbsp;                    </td>                    </tr>                    <p>                    <tr>                    <td></td>                    <td style="white-space:nowrap" style="text-align:left">                            <input type="button" value="Search" onclick="searchPatient();"/>&nbsp;                            <input type="button" value="Clear" onclick="clearPatient();"/>&nbsp;                             <a id="homePageAdvancedSearch" href="#" onclick="simpleToAdvancedSearch();return false;">Advanced Search</a>                         </td>                     </tr>                     </p>                </table>        </div>    </p></nedss:dashlet>    