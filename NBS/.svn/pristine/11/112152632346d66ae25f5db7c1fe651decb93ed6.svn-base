<?xml version="1.0"?>
<xsp:page language="java" xmlns:xsp="http://apache.org/xsp" xmlns:session="http://apache.org/xsp/session/2.0" xmlns:nedss="http://www.cdc.gov/nedss/logicsheet/nedss" xmlns:xsp-response="http://apache.org/xsp/response/2.0" xmlns:xsp-request="http://apache.org/xsp/request/2.0" xmlns:util="http://apache.org/xsp/util/2.0">
    <xsp:structure>
        <xsp:include>java.util.*</xsp:include>
        <xsp:include>java.sql.Timestamp</xsp:include>
        <xsp:include>gov.cdc.nedss.util.*</xsp:include>
        <xsp:include>gov.cdc.nedss.entity.entityid.dt.*</xsp:include>
        <xsp:include>gov.cdc.nedss.locator.dt.*</xsp:include>
        <xsp:include>gov.cdc.nedss.entity.person.dt.*</xsp:include>
        <xsp:include>gov.cdc.nedss.entity.person.vo.*</xsp:include>
        <xsp:include>gov.cdc.nedss.entity.person.util.*</xsp:include>
        <xsp:include>gov.cdc.nedss.webapp.nbs.logicsheet.helper.CachedDropDownValues</xsp:include>
        <xsp:include>gov.cdc.nedss.systemservice.nbscontext.NBSContext</xsp:include>
    </xsp:structure>
    <nedss:Declarations/>
    <nedss:StateDescTxt/>
    <nedss:getTitle/>
    <!--xsp:logic><![CDATA[

		   	private CachedDropDownValues srtValues = new CachedDropDownValues();
               private TreeMap treemap = srtValues.getStateCodes2("USA");

		   private String getStateDescTxt(String sStateCd) {

		   		String desc= null;
		                  	if (treemap != null){

		                      if(sStateCd!=null && treemap.get(sStateCd)!=null)
		                      	desc = (String)treemap.get(sStateCd);

		                   }
		      			return desc;
		    }

		    String entityFirstNm = null;
		    String entityLastNm = null;
		    String entityEmail = null;
		    String entityPhoneNbr = null;
		    String entityPhoneExt = null;
		    String entityPersonUID = null;
		    String entityLocalID = null;


	]]></xsp:logic-->
    <content>
        <xsp:attribute name="form">
            <xsp-request:get-attribute name="formHref"/>
        </xsp:attribute>
        <xsp:attribute name="title">
            <xsp:expr>getTitle()</xsp:expr>
        </xsp:attribute>
        <nedss:SearchResultRequestValues/>
        <!--xsp:logic><![CDATA[

				String sOperationType = request.getParameter("ContextAction");


				int currentIndex = 0;
				int maxRowCount = 10;
				int numberOfRecords = 0;
				//String temp = request.getParameter("currentIndex");


				String temp = (String) request.getAttribute("DSFromIndex");

				String sSearchCriteria = (String) session.getAttribute("DSSearchCriteriaString");

				if (temp!=null) {
					currentIndex = Integer.parseInt(temp);
				}
				ArrayList personList = new ArrayList();
				ArrayList  person = new ArrayList();

				PersonSearchVO personFind = null;

			try {
				numberOfRecords = 0;
				//personList = (ArrayList) request.getSession().getAttribute("DSSearchResults");
				personList = (ArrayList) request.getAttribute("DSSearchResults");

				if(personList != null){
					DisplayPersonList  list = (DisplayPersonList)personList.get(0);

					if (list != null) {
						person = list.getList();
						numberOfRecords = person.size() ;
					}
				}
			}
			catch (Exception e) {
				//##!! System.out.println("error occurred in person_search_results.xsp");
			}


			]]></xsp:logic-->
        <link-bar/>
        <button-bar>
            <!--nedss:NotEntitySearch-->
            <!--xsp:logic><![CDATA[if(sOperationType !=null  && (!sOperationType.equals("EntitySearch"))) { ]]></xsp:logic-->
            <!--left>
				<label>posted</label>
				<javascript-action>document.forms[0].action='/nbs/posted';submitForm();</javascript-action>
			</left-->
            <right>
                <!--xsp:attribute name="authorized">
					<xsp-request:get-attribute name="addButton"/>
				</xsp:attribute-->
                <label>Compare</label>
                <javascript-action>openWindowForCompare2();</javascript-action>
            </right>
            <!--/nedss:NotEntitySearch-->
            <!--xsp:logic> } </xsp:logic-->
            <!--nedss:ifEntitySearch-->
            <!--xsp:logic>if(sOperationType.equals("EntitySearch")) {</xsp:logic-->
            <right>
                <label>Merge</label>
                <javascript-action>mergePersons6();</javascript-action>
            </right>
            <right>
                <label>No Merge</label>
                <javascript-action>callNoMergePerson6();</javascript-action>
            </right>
            <right>
                <label>Cancel</label>
                <javascript-action>cancelForm('/nbs/HomePage.do?method=loadHomePage');</javascript-action>
            </right>
            <!--/nedss:ifEntitySearch-->
            <!--xsp:logic> } </xsp:logic-->
        </button-bar>
        <javascript-files>
            <import>EntitySearch.js</import>
            <import>searchResultsSpecific.js</import>
            <import>MergePersonSpecific.js</import>
        </javascript-files>
        <!--	<submit location="localhost/cocoon/nedss/PersonSearchResult.xml"/>-->
        <AddNewPersonHref location="/nedss/servlet/gov.cdc.nedss.cdm.ComparePersonServlet"/>
        <!--	<ViewPersonHref location="/nedss/servlet/gov.cdc.nedss.cdm.ComparePersonServlet"/>-->
        <xsp-request:get-uri as="xml"/>
        <session:get-id as="xml"/>
        <groupNo>0</groupNo>
        <groupAOD>04/15/2003</groupAOD>
        <refineSearchHref>
            <xsp-request:get-attribute name="refineSearchHref"/>
        </refineSearchHref>
        <newSearchHref>
            <xsp-request:get-attribute name="newSearchHref"/>
        </newSearchHref>
        <!--viewHref>
			<xsp-request:get-attribute name="viewHref"/>
		</viewHref-->
        <!--nextHref>
			<xsp-request:get-attribute name="nextHref"/>
		</nextHref>
		<prevHref>
			<xsp-request:get-attribute name="prevHref"/>
		</prevHref-->
        <searchCriteria>
            <xsp:expr>sSearchCriteria </xsp:expr>
        </searchCriteria>
        <currentIndex>
            <xsp:expr>currentIndex</xsp:expr>
        </currentIndex>
        <totalRecords>
            <xsp:expr>numberOfRecords</xsp:expr>
        </totalRecords>
        <!--text>
			<first/>
		</text-->
        <text>
            <second/>
        </text>
        <text>
            <third/>
        </text>
        <text>
            <fourth/>
        </text>
        <text>
            <fifth/>
        </text>
        <!--text>
			<sixth/>
		</text-->
        <text>
            <seventh/>
        </text>
        <header>
            <column>
                <name>Compare</name>
            </column>
            <column>
                <name>Full Name</name>
            </column>
            <column>
                <name>Age/DOB</name>
            </column>
            <column>
                <name>Sex</name>
            </column>
            <column>
			</column>
            <column>
                <name>Address</name>
            </column>
            <column>
                <name>Telephone/ID
				</name>
            </column>
            <column>
                <name>Merge</name>
            </column>
        </header>
        <records>
            <!--nedss:MergeList-->
            <!--xsp:logic><![CDATA[
						for( int i=currentIndex; (i >= currentIndex) && (i < currentIndex + maxRowCount) && (i < numberOfRecords); i++ ) {
							PersonSrchResultVO pvo = (PersonSrchResultVO) person.get(i);

							entityPersonUID = String.valueOf(pvo.getPersonUID());
							entityLocalID = pvo.getPersonLocalID();
				]]></xsp:logic -->
            <record>
                <uid type="Submit">310086061</uid>
                <column>
                    <checkbox name="compare" default="no" value="T">
								</checkbox>
                </column>
                <column>
                    <name>
                        <use-code>Legal</use-code>
                        <first-name>Mike</first-name>
                        <last-name>Brown</last-name>
                    </name>
                    <name>
                        <use-code>Legal</use-code>
                        <first-name>Mickey</first-name>
                        <last-name>Browne</last-name>
                    </name>
                </column>
                <column>30 Years 04/07/1973</column>
                <column>Male</column>
                <column/>
                <column>
                    <address>
                        <use-code>Home</use-code>
                        <type-code>Current</type-code>
                        <street>1900 Main St.</street>
                        <city>Atlanta</city>
                        <state>GA</state>
                        <zip>30332</zip>
                    </address>
                </column>
                <column>
                    <telephone>
                        <use-code>Home</use-code>
                        <type-code>Phone</type-code>
                        <telephone-number>404-552-8875;</telephone-number>
                        <email-address/>
                    </telephone>
                    <id>
                        <use-code>Social Security</use-code>
                        <local-id>214-19-8899</local-id>
                    </id>
                    <id>
                        <use-code>Account Number</use-code>
                        <local-id>ACCT25455</local-id>
                    </id>
                </column>
                <column>
                    <option1 name="merge" default="no" value="T">
						</option1>
                </column>
                <nested-records>
                    <!--		test data		-->
                    <record>
                        <uid type="Submit">310086061</uid>
                        <column>
                            <name>
                                <use-code>Legal</use-code>
                                <first-name>Test</first-name>
                                <last-name>Performance</last-name>
                            </name>
                        </column>
                        <column>10/10/1920</column>
                        <column>M</column>
                        <column/>
                        <column>
                            <address>
                                <use-code>Home</use-code>
                                <type-code>Current</type-code>
                                <street>123 Weblogic Lane</street>
                                <city/>
                                <state>Kansas</state>
                                <zip>78906</zip>
                            </address>
                        </column>
                        <column>
                            <telephone>
                                <use-code>Home</use-code>
                                <type-code>Phone</type-code>
                                <telephone-number>123-333-3321</telephone-number>
                                <email-address/>
                            </telephone>
                            <id>
                                <use-code>Social Security</use-code>
                                <local-id>111-11-3333</local-id>
                            </id>
                        </column>
                    </record>
                    <record>
                        <uid type="Submit">310086061</uid>
                        <column>
                            <name>
                                <use-code>Legal</use-code>
                                <first-name>Test</first-name>
                                <last-name>Performance</last-name>
                            </name>
                        </column>
                        <column>10/10/1920</column>
                        <column>M</column>
                        <column/>
                        <column>
                            <address>
                                <use-code>Home</use-code>
                                <type-code>Current</type-code>
                                <street>123 Weblogic Lane</street>
                                <city/>
                                <state>Kansas</state>
                                <zip>78906</zip>
                            </address>
                        </column>
                        <column>
                            <telephone>
                                <use-code>Home</use-code>
                                <type-code>Phone</type-code>
                                <telephone-number>123-333-3321</telephone-number>
                                <email-address/>
                            </telephone>
                            <id>
                                <use-code>Social Security</use-code>
                                <local-id>111-11-3333</local-id>
                            </id>
                        </column>
                    </record>
                </nested-records>
            </record>
            <record>
                <uid type="Submit">310086062</uid>
                <column>
                    <checkbox name="compare" default="no" value="T">
								</checkbox>
                </column>
                <column>
                    <name>
                        <use-code>Legal</use-code>
                        <first-name>Mike</first-name>
                        <last-name>Browne</last-name>
                    </name>
                    <name>
                        <use-code>Legal</use-code>
                        <first-name>Mike</first-name>
                        <last-name>Browny</last-name>
                    </name>
                </column>
                <column>30 Years 04/10/1973</column>
                <column>Male</column>
                <column/>
                <column>
                    <address>
                        <use-code>Home</use-code>
                        <type-code>Current</type-code>
                        <street>800 Manassas St.</street>
                        <city>Dunwoody</city>
                        <state>GA</state>
                        <zip>30329</zip>
                    </address>
                </column>
                <column>
                    <telephone>
                        <use-code>Home</use-code>
                        <type-code>Phone</type-code>
                        <telephone-number>770-546-2304;</telephone-number>
                        <email-address/>
                    </telephone>
                    <id>
                        <use-code>Social Security</use-code>
                        <local-id>624-23-7698</local-id>
                    </id>
                </column>
                <column>
                    <option1 name="merge" default="no" value="T">
						</option1>
                </column>
                <nested-records>
                    <!--		test data		-->
                    <record>
                        <uid type="Submit">310086062</uid>
                        <column>
                            <name>
                                <use-code>Legal</use-code>
                                <first-name>Test</first-name>
                                <last-name>Performance</last-name>
                            </name>
                        </column>
                        <column>10/10/1920</column>
                        <column>M</column>
                        <column/>
                        <column>
                            <address>
                                <use-code>Home</use-code>
                                <type-code>Current</type-code>
                                <street>123 Weblogic Lane</street>
                                <city/>
                                <state>Kansas</state>
                                <zip>78906</zip>
                            </address>
                        </column>
                        <column>
                            <telephone>
                                <use-code>Home</use-code>
                                <type-code>Phone</type-code>
                                <telephone-number>123-333-3321</telephone-number>
                                <email-address/>
                            </telephone>
                            <id>
                                <use-code>Social Security</use-code>
                                <local-id>111-11-3333</local-id>
                            </id>
                        </column>
                    </record>
                    <record>
                        <uid type="Submit">310086062</uid>
                        <column>
                            <name>
                                <use-code>Legal</use-code>
                                <first-name>Test</first-name>
                                <last-name>Performance</last-name>
                            </name>
                        </column>
                        <column>10/10/1920</column>
                        <column>M</column>
                        <column/>
                        <column>
                            <address>
                                <use-code>Home</use-code>
                                <type-code>Current</type-code>
                                <street>123 Weblogic Lane</street>
                                <city/>
                                <state>Kansas</state>
                                <zip>78906</zip>
                            </address>
                        </column>
                        <column>
                            <telephone>
                                <use-code>Home</use-code>
                                <type-code>Phone</type-code>
                                <telephone-number>123-333-3321</telephone-number>
                                <email-address/>
                            </telephone>
                            <id>
                                <use-code>Social Security</use-code>
                                <local-id>111-11-3333</local-id>
                            </id>
                        </column>
                    </record>
                </nested-records>
            </record>
        </records>
    </content>
</xsp:page>
