<%@ include file="/jsp/errors.jsp" %><title>Export Algorithm</title><SCRIPT Language="JavaScript" Src="ExportAlgorithmSpecific.js"></SCRIPT><script type="text/javascript">    function cancelForm()    {        var confirmMsg="If you continue with the Cancel action, you will lose any information you have entered. Select OK to continue, or Cancel to not continue.";        if (confirm(confirmMsg)) {            document.forms[0].action ="${ExportAlgorithmForm.attributeMap.cancel}";        } else {            return false;        }    }		    function submitForm(){           if(AlgorithmReqFields()) {            return false;        }        else {           document.forms[0].action ="/nbs/ExportCaseNotification.do?method=createNewBatchExportSubmit";     	 }    }           function addTrigger()    {               document.forms[0].action ="/nbs/ExportCaseNotification.do?method=AddTriggerLoad";         }</script>      	<table cellpadding="0" cellspacing="0" border="0" align="left" style="width: 100%;">	<%		String confirmMsg= request.getAttribute("confirmMsg") == null ? "" : (String) request.getAttribute("confirmMsg");		if(! confirmMsg.equals("")) {	%>    <tr align="center">        <td>            <!-- Display failure/success messages depending on code update -->            <% if(confirmMsg.indexOf("Failure") != -1) { %>                <div class="infoBox errors">                    <%=  confirmMsg%>                </div>            <%} else {%>                <div class="infoBox success">                    <%=  confirmMsg%>                </div>            <% } %>        </td>    </tr>	<%} %>    <tr>        <td width="100%">            <html:form  action="/ExportCaseNotification.do">                <nedss:container id="section3" name=" Export Details" classType="sect"  displayImg ="false" displayLink="false">                    <fieldset style="border-width:0px;" id="expAlg">                        <nedss:container id="subsec1" classType="subSect" displayImg ="false">                                                                           <!-- Form Entry Errors -->                            <tr style="background:#FFF;">                                <td colspan="2">                                    <div class="infoBox errors" style="display:none;" id="exportAlgthmErrors">                                    </div>                                </td>                            </tr>                                <tr>                                <td class="fieldName" id="algName"><font class="boldTenRed" > * </font><span>Name:</span></td>                                <td>                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Create">                                        <html:text property="exADT.algorithmName" size="20" maxlength="20"/>                                    </logic:equal>                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Edit">                                         <html:text property="exADT.algorithmName" size="20" maxlength="20"/>                                    </logic:equal>                                       <logic:equal name="exportAlgorithmForm" property="actionMode" value="View">                                        <nedss:view name="exportAlgorithmForm" property="exADT.algorithmName"/>                                    </logic:equal>                                   </td>                            </tr>                                                                                            <tr>                                <td class="fieldName" id="docType"><font class="boldTenRed" > * </font><span>Document Type:</span></td>                                <td>                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Create">                                     	<html:select property="exADT.documentType"  styleId="dType">							<html:optionsCollection property="documentList" value="key" label="value"/>						</html:select>                                    </logic:equal >                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Edit">                                    	<html:select property="exADT.documentType" styleId="dType">							<html:optionsCollection property="documentList" value="key" label="value"/>						</html:select>                                    </logic:equal >                                                          <logic:equal name="exportAlgorithmForm" property="actionMode" value="View">                                        <nedss:view name="exportAlgorithmForm" property="exADT.documentTypeDescTxt" />                                    </logic:equal>                                   </td>                            </tr>                                        <tr>                                <td class="fieldName" id="levelOfRev"><font class="boldTenRed" > * </font><span>Level of Review:</span></td>                                <td>                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Create">                                             	<html:select property="exADT.levelOfReview" styleId="lOfRev">							<html:optionsCollection property="levOfRevList" value="key" label="value"/>						      </html:select>                                    </logic:equal >                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Edit">                                           	<html:select property="exADT.levelOfReview" styleId="lOfRev">							<html:optionsCollection property="levOfRevList" value="key" label="value"/>						      </html:select>                                    </logic:equal >                                                          <logic:equal name="exportAlgorithmForm" property="actionMode" value="View">                                            <nedss:view name="exportAlgorithmForm" property="exADT.levelOfReviewDescTxt" />                                    </logic:equal>                                   </td>                            </tr>                                                                                                                    <tr>                                <td class="fieldName" id="recSystem"><font class="boldTenRed" > * </font><span>Receiving System:</span></td>                                <td>                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Create">                                     	<html:select property="exADT.receivingSystem"  styleId="rSystem">							<html:optionsCollection property="receivingSystemList" value="key" label="value"/>						</html:select>                                    </logic:equal >                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Edit">                                    	<html:select property="exADT.receivingSystem" styleId="rSystem">							<html:optionsCollection property="receivingSystemList" value="key" label="value"/>						</html:select>                                    </logic:equal >                                                          <logic:equal name="exportAlgorithmForm" property="actionMode" value="View">                                        <nedss:view name="exportAlgorithmForm" property="exADT.receivingSystemDescTxt" />                                    </logic:equal>                                   </td>                            </tr>                                                                                                                                <tr>                                <td class="fieldName" id="recStatCd"><font class="boldTenRed" > * </font><span>Status:</span></td>                                <td>                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Create">                                     	<html:select property="exADT.recordStatusCd"  styleId="rStatusCd">							<html:optionsCollection property="statusList" value="key" label="value"/>						</html:select>                                    </logic:equal >                                    <logic:equal name="exportAlgorithmForm" property="actionMode" value="Edit">                                    	<html:select property="exADT.recordStatusCd" styleId="rStatusCd">							<html:optionsCollection property="statusList" value="key" label="value"/>						</html:select>                                    </logic:equal >                                                          <logic:equal name="exportAlgorithmForm" property="actionMode" value="View">                                        <nedss:view name="exportAlgorithmForm" property="exADT.recordStatusCdDescTxt" />                                    </logic:equal>                                   </td>                            </tr>                            </nedss:container>	                </fieldset>	  	    		            </nedss:container>      	            <nedss:container id="section4" name=" Export Filters" classType="sect"  displayImg ="false" displayLink="false">                    <fieldset style="border-width:0px;" id="expAlgTrg">                        <nedss:container id="subsec2" classType="subSect" displayImg ="false">                                                                     	                       <tr>	                        <logic:notEqual name="exportAlgorithmForm" property="actionMode" value="ResultLoad">                                <table width="98%">                                    <tr>                                        <td align="center">							<table class="dtTable" id="parent">								<thead>									<tr>									      <th width="5%"></th>									      <th width="5%"></th>										<th width="30%">Trigger Field</th>										<th width="30%">Logic</th>										<th width="30%">Filter</th>									</tr>								</thead>								<tbody id="triggerbody">									<tr id="pattern" class="odd" style="display:none;">										<td><a href="javascript:noOp();" id="edit" onclick="editClicked(this.id)">Edit</a></td>										<td><a href="javascript:noOp();" id="delete" onclick="deleteClicked(this.id)">Delete</a></td>										<td><span id="tableTriggerField">TriggerField</span></td>										<td><span id="tableTriggerLogic">TriggerLogic</span></td>										<td><span id="tableTriggerFilter">TriggerFilter</span></td>									</tr>	                        				</tbody>	                       			</table>	                       		</td>	                       	</tr>	                       </table>                         </logic:notEqual>                             <logic:notEqual name="exportAlgorithmForm" property="actionMode" value="View">                    			    					<table class="subSect" id="subsec1"><thead><tr><th colspan="2" ></th> </tr> </thead><tbody>			    <tr>				<td class="fieldName" id="triggerFieldLabel"><font class="boldTenRed" > * </font><span>Trigger Field:</span></td>				<td>				<html:select property="exTrDT.triggerField"  styleId="triggerField" onchange="getTrigerLogicFromTriggerField(this);getTrigerFilterFromTriggerField(this)">						<html:optionsCollection property="triggerFieldList" value="key" label="value"/>					</html:select>				</td>                            </tr>                            <tr>				<td class="fieldName" id="triggerLogicLabel"><font class="boldTenRed" > * </font><span>Logic:</span></td>				<td>				<html:select property="exTrDT.triggerLogic"  styleId="triggerLogic">						<html:optionsCollection property="triggerLogicList" value="key" label="value"/>					</html:select>				</td>                            </tr>                             <tr>				<td class="fieldName" id="triggerFilterLabel"><font class="boldTenRed" > * </font><span>Filter:</span></td>				<td>				<html:select property="exTrDT.triggerFilter"  styleId="triggerFilter">						<html:optionsCollection property="triggerFilterList" value="key" label="value"/>					</html:select>				</td>                            </tr>                             <tr>			    <td colspan="2" align="center">			      <small>(ID=<span id="id">-1</span>)</small>			      <input type="button" value="Save" onclick="writeTrigger()"/>			      <input type="button" value="Clear" onclick="clearTrigger()"/>			   </td>			  </tr>                            </tbody>                        </table>                        <table width="98%">                        <tr/>                           <tr>			    <td colspan="2" align="right" class="InputButton">				<input type="submit" name="submitCrSub" id="submitCrSub" value="Submit" onClick="return submitForm();"/>				<input type="submit" name="submitCrCan" id="submitCrCan" value="Cancel" onClick="return cancelForm();"/>			  				&nbsp;			    </td>	  				  </tr>                          </table>			   </logic:notEqual>			   </tr>			   </nedss:container>	                </fieldset>	  	    		            </nedss:container> 	            	        </html:form>		</td>	</tr></table>